{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,Link}from'react-router-dom';import'./checkout.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Checkout(){const location=useLocation();const[cart,setCart]=useState([]);const[isPaid,setIsPaid]=useState(false);// useEffect(() => {\n//   if (location.state && location.state.cart) {\n//     setCart(location.state.cart);\n//   }\n// }, [location.state]);\nuseEffect(()=>{const storedCart=localStorage.getItem('cart');if(storedCart){setCart(JSON.parse(storedCart));}},[]);const totalItems=cart.length;const totalPrice=cart.reduce((sum,product)=>sum+product.price,0);useEffect(()=>{console.log('Carrinho de Compras no Checkout:',cart,cart.length,cart.reduce((sum,product)=>sum+product.price,0));},[cart]);const handlePayment=()=>{setIsPaid(true);localStorage.setItem('purchasedCart',JSON.stringify(cart));localStorage.removeItem('cart');};return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Checkout\"}),cart.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Carrinho vazio\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"ul\",{className:\"cart-item\",children:cart.map((product,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[product.name,\" - R$\",product.price]},index))}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total de itens: \",totalItems]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: R$\",totalPrice]})]}),!isPaid?/*#__PURE__*/_jsx(\"button\",{className:\"payment-button\",onClick:handlePayment,children:\"Pagar\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Pagamento realizado com sucesso!\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/product\",children:/*#__PURE__*/_jsx(\"button\",{className:\"payment-button\",children:\"Voltar aos Produtos\"})})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:/*#__PURE__*/_jsx(\"button\",{className:\"payment-button\",children:\"Ir para o Perfil\"})})})]})]});}export default Checkout;","map":{"version":3,"names":["React","useState","useEffect","useLocation","Link","jsx","_jsx","jsxs","_jsxs","Checkout","location","cart","setCart","isPaid","setIsPaid","storedCart","localStorage","getItem","JSON","parse","totalItems","length","totalPrice","reduce","sum","product","price","console","log","handlePayment","setItem","stringify","removeItem","className","children","map","index","name","onClick","to"],"sources":["C:/Users/victo/OneDrive/Área de Trabalho/seven, cinner/codes/fronts/react/front/ecommerce-app/src/pages/Checkout/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport './checkout.css';\r\n\r\n\r\nfunction Checkout() {\r\n  const location = useLocation();\r\n  const [cart, setCart] = useState([]);\r\n  const [isPaid, setIsPaid] = useState(false);\r\n\r\n  // useEffect(() => {\r\n  //   if (location.state && location.state.cart) {\r\n  //     setCart(location.state.cart);\r\n  //   }\r\n  // }, [location.state]);\r\n  useEffect(() => {\r\n    const storedCart = localStorage.getItem('cart');\r\n    if (storedCart) {\r\n      setCart(JSON.parse(storedCart));\r\n    }\r\n  }, []);\r\n\r\n  const totalItems = cart.length;\r\n  const totalPrice = cart.reduce((sum, product) => sum + product.price, 0);\r\n\r\n  useEffect(() => {\r\n    console.log('Carrinho de Compras no Checkout:', cart, cart.length, cart.reduce((sum, product) => sum + product.price, 0));\r\n  }, [cart]);\r\n\r\n  const handlePayment = () => {\r\n    setIsPaid(true);\r\n    localStorage.setItem('purchasedCart', JSON.stringify(cart));\r\n    localStorage.removeItem('cart');\r\n  };\r\n\r\n  return (\r\n    <div className=\"checkout-container\">\r\n      <h1>Checkout</h1>\r\n      {cart.length === 0 ? (\r\n        <p>Carrinho vazio</p>\r\n      ) : (\r\n        <div>\r\n        <ul className='cart-item'>\r\n          {cart.map((product, index) => (\r\n            <li key={index}>\r\n              {product.name} - R${product.price}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <p>Total de itens: {totalItems}</p>\r\n        <p>Total: R${totalPrice}</p>\r\n        </div>\r\n      )}\r\n      {!isPaid ? (\r\n        <button className=\"payment-button\" onClick={handlePayment}>Pagar</button>\r\n      ) : (\r\n        <div>\r\n          <p>Pagamento realizado com sucesso!</p>\r\n          <p>\r\n          <Link to=\"/product\">\r\n            <button className=\"payment-button\">Voltar aos Produtos</button>\r\n          </Link>\r\n          </p>\r\n          <p>\r\n          <Link to=\"/profile\">\r\n            <button className=\"payment-button\">Ir para o Perfil</button>\r\n          </Link>\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}